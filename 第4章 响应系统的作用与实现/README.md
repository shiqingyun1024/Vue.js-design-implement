   前文没有提到响应系统，响应系统也是Vue.js的重要组成部分，所以我们会花费大量篇幅介
绍。在本章中，我们讨论什么是响应式数据和副作用函数，然后尝试实现一个相对完整的响
应系统。在这个过程中，我们会遇到各种各样的问题，例如如何避免无限递归？为什么需要嵌套
的副作用函数？两个副作用函数之间会产生哪些影响？以及其他很多需要考虑的细节。接着，我
们会详细讨论与响应式数据相关的内容。我们知道Vue.js3采用Proxy实现响应式数据，这涉及
语言规范层面的知识。这部分内容包括如何根据语言规范实现对数据对象的代理，以及其中的一
些重要细节。接下来，我们就从认识响应式数据和副作用函数开始，一步一步地了解响应系统的
设计与实现。

## 4.1 响应式数据与副作用函数
副作用函数指的是会产生副作用的函数
```
副作用函数指的是会产生副作用的函数，如下面的代码所示：
function effect(){
    document.body.innerText = 'hello vue3'
}
   当effect函数执行时，它会设置body的文本内容，但除了effect函数之外的任何函数都可
以读取或设置body的文本内容。也就是说，effect函数的执行会直接或间接影响其他函数的执
行，这时我们说effect函数产生了副作用。副作用很容易产生，例如一个函数修改了全局变量，
这其实也是一个副作用，如下面的代码所示：
<!-- 全局变量 -->
let val = 1

function(){
    val = 2 // 修改全局变量，产生副作用。
}
```

